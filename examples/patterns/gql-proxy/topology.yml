name: example-gql-proxy

routes:
  /api/trigger:
    method: POST
    event: TriggerMessage

events:
  TriggerMessage:
    function: handler

functions:
  handler:
    mutation: processMessage

mutations:
  authorizer: authorizer
  types:
    Message:
      id: String!
      text: String
  resolvers:
    processMessage:
      input: Message
      output: Message
      function: processor
      subscribe: true

pages:
  app:
    dir: .
    dist: dist
    config_template: index.html
    skip_deploy: true
